{"version":3,"sources":["components/Navbar.js","components/preloader.js","components/screens/Home.js","components/screens/Profile.js","components/screens/Login.js","components/screens/SignUp.js","components/screens/createPost.js","reducer/reducer.js","components/screens/UserProfile.js","components/screens/FollowPost.js","components/screens/EditProfile.js","components/screens/ResetPass.js","components/screens/Newpassword.js","App.js","index.js"],"names":["Navbar","useState","search","setSearch","users","setUsers","searchModal","useRef","history","useHistory","useContext","UserContext","state","dispatch","useEffect","M","Modal","init","current","className","to","id","key","data-target","style","color","cursor","onClick","localStorage","clear","type","push","marginTop","ref","zIndex","placeholder","value","onChange","e","query","target","fetch","method","headers","body","JSON","stringify","then","res","json","results","console","log","user","display","flexDirection","map","item","padding","_id","getInstance","close","width","margin","name","email","SmallLoader","BigLoader","Home","data","setData","loading","setLoading","postDelLoad","setpostDelLoad","postIdLoad","setPostIdLoad","comment","setComment","getItem","result","posts","catch","err","likeManaging","likeComand","likePost","unlikePost","postId","newData","post","alignItems","postedBy","borderRadius","src","profilePic","alt","filter","photo","likes","includes","length","title","comments","fontWeight","text","onSubmit","preventDefault","Profile","myPosts","setMyPosts","Loading","mypost","height","justifyContent","textAlign","followers","following","Login","password","setPassword","setEmail","test","error","toast","html","classes","setItem","token","payload","SignUp","setName","message","CreatePost","setTitle","caption","setCaption","image","setImage","imgurl","setImgurl","pic","maxWidth","files","FormData","append","url","postData","reducer","action","UserProfile","userProfile","setUserProfile","setloading","userPosts","setuserPosts","userid","useParams","followHandle","handle","followUser","unfollowUser","followId","unfollowId","FollowPost","EditProfile","username","setUsername","imgUrl","setImgUrl","setUploadUrl","Reset","ResetPass","createContext","Routing","parse","location","pathname","startsWith","path","exact","component","App","useReducer","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.147b9dbd.chunk.js","sourcesContent":["import React, { useContext, useRef, useEffect, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {UserContext} from '../App'\r\nimport M from 'materialize-css'\r\n\r\nfunction Navbar() {\r\n    const [search, setSearch] = useState('')\r\n    const [users, setUsers] = useState([])\r\n    const searchModal = useRef(null)\r\n    const history = useHistory()\r\n    const {state,dispatch} = useContext(UserContext)\r\n    useEffect(() => {\r\n        M.Modal.init(searchModal.current)\r\n    }, [])\r\n    const renderList = () => {\r\n        if(state){\r\n            return [\r\n                <li key=\"1\"><i data-target=\"modal1\" style={{color:\"black\",cursor:\"pointer\"}} className=\"large material-icons modal-trigger\">search</i></li>,\r\n                <li key=\"2\"><Link className='font__black' to=\"/followposts\">Follow posts</Link></li>,\r\n                <li key=\"3\"><Link className='font__black' to=\"/profile\">\r\n                    <i id=\"mobile\" className=\"material-icons\">person</i> <div id=\"window\">Profile</div>\r\n                    </Link></li>,\r\n                <li key=\"4\"><Link className='font__black' to=\"/createpost\">\r\n                    <i id=\"mobile\" className=\"material-icons\">file_upload</i> <div id=\"window\">Create Post</div>\r\n                    </Link></li>,\r\n                <li key=\"5\">\r\n                    <button className='btn #ff5252 red accent-2' \r\n                    onClick={()=>{\r\n                        localStorage.clear()\r\n                        dispatch({type:\"CLEAR\"})\r\n                        history.push('/login')\r\n                    }}>\r\n                        <i style={{marginTop:\"-10px\"}} id=\"mobile\" className=\"material-icons\">exit_to_app</i> <div id=\"window\">log out</div>\r\n                    </button>\r\n                </li>\r\n            ]\r\n        }else{\r\n            return [\r\n                <li key=\"6\"><Link className='font__black' to=\"/login\">Login</Link></li>,\r\n                <li key=\"7\"><Link className='font__black' to=\"/signup\">SignUp</Link></li>\r\n            ]\r\n        }\r\n    }\r\n\r\n    const fetchUsers = (query) => {\r\n        setSearch(query)\r\n        fetch('/search-user',{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n            },\r\n            body:JSON.stringify({\r\n                query\r\n            })\r\n        }).then(res => res.json())\r\n        .then(results => {\r\n            console.log(results)\r\n            setUsers(results.user)\r\n        })\r\n    }\r\n    return (\r\n        <nav className=\"navBar\">\r\n            <div className=\"nav-wrapper white\">\r\n                <Link to={state?\"/\":\"/login\"} id='font__black' className=\"brand-logo left\">Instagram</Link>\r\n                <ul id=\"nav-mobile\" className=\"right\">\r\n                    {renderList()}\r\n                </ul>\r\n            </div>\r\n            <div id=\"modal1\" className=\"modal\" ref={searchModal} style={{color:\"black\",zIndex:1}}>\r\n                <div className=\"modal-content\">\r\n                    <input\r\n                    type='text'\r\n                    placeholder='search'\r\n                    value={search}\r\n                    onChange={(e)=>fetchUsers(e.target.value)}\r\n                    />\r\n                 {state &&<ul className=\"collection\" style={{display:\"flex\",flexDirection:\"column\"}}>\r\n                    {users.map(item => {\r\n                        return <Link style={{padding:0}} key={item._id} to={item._id !== state._id?`/profile/${item._id}`: '/profile'} \r\n                                onClick={()=>M.Modal.getInstance(searchModal.current).close()}\r\n                                >\r\n                                 <li style={{color:\"black\",width:\"100%\",margin:0}} className='collection-item'>{item.name} <br/>{item.email}</li>\r\n                            </Link>\r\n                    })}\r\n                </ul>}\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                <button className=\"modal-close waves-effect waves-green btn-flat\" onClick={() => setSearch('')}>close</button>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react';\r\n\r\nconst SmallLoader = () => {\r\n    return (\r\n        <div className=\"preloader-wrapper small active\">\r\n            <div className=\"spinner-layer spinner-blue\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n    \r\n            <div className=\"spinner-layer spinner-red\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n    \r\n            <div className=\"spinner-layer spinner-yellow\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n    \r\n            <div className=\"spinner-layer spinner-green\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst MediumLoader = () => {\r\n    return (\r\n        <div className=\"preloader-wrapper active\">\r\n            <div className=\"spinner-layer spinner-blue\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n    \r\n            <div className=\"spinner-layer spinner-red\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n    \r\n            <div className=\"spinner-layer spinner-yellow\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n    \r\n            <div className=\"spinner-layer spinner-green\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst BigLoader = () => {\r\n    return (\r\n        <div className=\"preloader-wrapper big active\">\r\n            <div className=\"spinner-layer spinner-blue\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n    \r\n            <div className=\"spinner-layer spinner-red\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n    \r\n            <div className=\"spinner-layer spinner-yellow\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n    \r\n            <div className=\"spinner-layer spinner-green\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport {SmallLoader,BigLoader,MediumLoader}","import React, { useState, useEffect, useContext } from 'react'\r\nimport {UserContext} from '../../App'\r\nimport { Link } from 'react-router-dom'\r\nimport { BigLoader } from '../preloader'\r\n\r\nfunction Home() {\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const [data, setData] = useState([])\r\n    const [loading, setLoading] = useState(false)\r\n    const [postDelLoad, setpostDelLoad] = useState(\"\")\r\n    const [postIdLoad, setPostIdLoad] = useState(\"\")\r\n    const [comment, setComment] = useState(\"\")\r\n    useEffect(() => {\r\n        fetch('/allposts',{\r\n            headers:{\r\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n        .then(result => {\r\n            setData(result.posts)\r\n            setLoading(true)\r\n            // console.log(result.posts)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    const likeManaging = (likeComand,id) =>{\r\n        setPostIdLoad(id)\r\n        if(likeComand===likePost){\r\n            likePost(id)\r\n        }\r\n        if(likeComand===unlikePost){\r\n            unlikePost(id)\r\n        }\r\n    }\r\n\r\n    const likePost = (id) => {\r\n        fetch('/like',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result => {\r\n            const newData = data.map(item => {\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setPostIdLoad(\"\")\r\n            setData(newData)\r\n        }).catch(err => console.log(err))\r\n    }\r\n\r\n    const unlikePost = (id) => {\r\n        fetch('/unlike',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result => {\r\n            const newData = data.map(item => {\r\n            if(item._id===result._id){\r\n                return result\r\n            }else{\r\n                return item\r\n            }\r\n        })\r\n            setPostIdLoad(\"\")\r\n            setData(newData)\r\n        }).catch(err => console.log(err))\r\n    }\r\n\r\n    const makeComment = (text,postId) => {\r\n        fetch('/comment',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result => {\r\n            const newData = data.map(item => {\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>console.log(err))\r\n    }\r\n\r\n    const deletePost = (id) => {\r\n        setpostDelLoad(id)\r\n        fetch(`/deletepost/${id}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            const newData = data.filter(item=>{\r\n                return item._id !== result._id\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>console.log(err))\r\n    }\r\n    return (\r\n        <>\r\n            {loading ? \r\n                <div className='home'>\r\n                {data.map((post) => {\r\n                    return <div key={post._id} className='card home-card'>\r\n                                {postDelLoad === post._id ?\r\n                                <div style={{\r\n                                    alignItems:\"center\",\r\n                                    display:\"flex\",\r\n                                    flexDirection:\"column\",\r\n                                    padding:\"100px 0 100px 0\"\r\n                                  }}> <h2>loading.....!</h2> <BigLoader /> </div>:\r\n                                <>\r\n                                    <h5 style={{display:\"flex\",flexDirection:\"row\", alignItems:\"center\", width:\"100%\"}}>\r\n                                    <Link className='link' style={{display:\"flex\",flexDirection:\"row\",padding:\"0 10px\"}} to={post.postedBy._id !== state._id?`/profile/${post.postedBy._id}`: '/profile'}>\r\n                                        <img style={{width:\"40px\",margin:\"10px 10px 0 0\" ,borderRadius:\"50%\"}} src={post.postedBy.profilePic} alt='' />\r\n                                        <h5>{post.postedBy.name}</h5>\r\n                                    </Link>\r\n                                    {post.postedBy._id === state._id &&\r\n                                    <i \r\n                                        className=\"material-icons right\" \r\n                                        style={{cursor:\"pointer\",margin:\"10px 10px 0 auto\"}}\r\n                                        onClick={()=>deletePost(post._id)}\r\n                                    >\r\n                                        {\"delete\"}\r\n                                    </i>\r\n                                    }\r\n                                </h5>\r\n                                <div className='card-image'>\r\n                                    <img src={post.photo} alt='' />\r\n                                </div>\r\n                                <div className='card-content'>\r\n                                    {postIdLoad === post._id ? \r\n                                        <>{post.likes.includes(state._id)?\r\n                                        <i className=\"material-icons\" style={{color:'red',cursor:\"pointer\"}}>{\"favorite_border\"}</i>:\r\n                                        <i className=\"material-icons\" style={{color:'black',cursor:\"pointer\"}}>{\"favorite\"}</i>}</>:\r\n                                        <>{post.likes.includes(state._id)?\r\n                                        <i className=\"material-icons\" onClick={()=>{likeManaging(unlikePost,post._id)}} style={{color:'red',cursor:\"pointer\"}}>{\"favorite\"}</i>:\r\n                                        <i className=\"material-icons\" onClick={()=>{likeManaging(likePost,post._id)}} style={{color:'black',cursor:\"pointer\"}}>{\"favorite_border\"}</i>}</>\r\n                                    }\r\n                                    <h6>{post.likes.length} likes</h6>\r\n                                    <h6>{post.title}</h6>\r\n                                    <p>{post.body}</p>\r\n                                    {post.comments.map((comment,key)=>{\r\n                                        return(\r\n                                            <h6 key={key}><span style={{fontWeight:\"500\"}}>{comment.postedBy.name} :  </span>  {comment.text}</h6>\r\n                                        )\r\n                                    })}\r\n                                    <form onSubmit={(e)=>{\r\n                                        e.preventDefault()\r\n                                        makeComment(e.target[0].value,post._id)\r\n                                    }}  style={{display:\"flex\"}}\r\n                                    >\r\n                                        <input type='text' value={comment} onChange={e=>setComment(e.target.value)} placeholder='comment' />\r\n                                        <button className='btn #ffffff white'><i className=\"material-icons\" style={{color:\"#64b5f6\"}} >{\"send\"}</i></button>\r\n                                    </form>\r\n                                </div>\r\n                                </>\r\n                                }\r\n                            </div>\r\n                })}\r\n            </div>:\r\n            <div style={{\r\n                alignItems:\"center\",\r\n                display:\"flex\",\r\n                flexDirection:\"column\"\r\n              }}> <h2 style={{margin:\"100px 0 100px 0\"}}>loading.....!</h2> <BigLoader /> </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useEffect, useState, useContext } from 'react'\r\nimport {UserContext} from '../../App'\r\nimport { Link } from 'react-router-dom'\r\nimport { BigLoader } from '../preloader'\r\n\r\nfunction Profile() {\r\n    const [myPosts, setMyPosts] = useState([])\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const [Loading, setLoading] = useState(true)\r\n    useEffect(() => {\r\n        fetch('/mypost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n        .then(result =>{\r\n            setMyPosts(result.mypost)\r\n            setLoading(false)\r\n        })\r\n    }, [])\r\n    return (\r\n        <>\r\n        {Loading?\r\n            <div style={{\r\n                alignItems:\"center\",\r\n                display:\"flex\",\r\n                flexDirection:\"column\"\r\n              }}> <h2 style={{margin:\"100px 0 100px 0\"}}>loading.....!</h2> <BigLoader /> </div>:\r\n            <div className='profile'>\r\n                <Link to=\"/editProfile\" style={{color:\"black\"}}><i style={{padding:\"10px\"}} className=\"material-icons right \">edit</i></Link>\r\n                <div className='profile__top'>\r\n                    <div className='profile__head'>\r\n                    <div className='profile__image'>\r\n                        <img style={{width:'160px', height:'160px',borderRadius:'80px'}}\r\n                            src={state? state.profilePic : \"loading...\"}\r\n                            alt='profile pic'\r\n                            />\r\n                    </div>\r\n                    <div className='profile__headDescription'>\r\n                        <h4>{state? state.name: \"loading...\"}</h4>\r\n                        <h6>{state? state.email: \"loading...\"}</h6>\r\n                        <div style={{display:\"flex\",width:'60%',justifyContent:\"space-around\"}}>\r\n                            <p style={{textAlign:\"center\",padding:'10px'}}>{myPosts.length} posts</p>\r\n                            <p style={{textAlign:\"center\",padding:'10px'}}>{state ? state.followers.length : 'loading..'} followers</p>\r\n                            <p style={{textAlign:\"center\",padding:'10px'}}>{state ? state.following.length : 'loading..'} following</p>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className='profile__gallery'>\r\n                    {myPosts.map((post,key) => {\r\n                    return <img key={key}\r\n                        className='Profile__galleryimg'\r\n                        src={post.photo}\r\n                        alt='post'\r\n                        />\r\n                    })}\r\n                </div>\r\n            </div>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React,{ useState, useContext } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport M from 'materialize-css'\r\nimport {UserContext} from '../../App'\r\n\r\nfunction Login() {\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n    const [password, setPassword] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const PostData = () => {\r\n        if(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n            fetch(\"/auth/signin\",{\r\n                method:\"post\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\"\r\n                },\r\n                body:JSON.stringify({\r\n                    email,\r\n                    password\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(data => {\r\n                if(data.error){\r\n                M.toast({html:data.error, classes:'#ff5252 red accent-2'}) \r\n                }else{\r\n                    localStorage.setItem(\"jwt\",data.token)\r\n                    localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n                    dispatch({type:\"USER\",payload:data.user})\r\n                    M.toast({html:\"Signedin Successfully\", classes:'#69f0ae green accent-2'})\r\n                    history.push('/')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n        }else{\r\n            M.toast({html:\"Entered a invalid Email\",classes:\"#ff5252 red accent-2\"})\r\n        }\r\n    }\r\n    return (\r\n        <div className='myCard'>\r\n            <div className='card auth-card input-field'>\r\n                <h2 className='brand-logo'>Instagram</h2>\r\n                <input\r\n                type='text'\r\n                placeholder='Email' \r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n                <input\r\n                type='password'\r\n                placeholder='password' \r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n                <button className='btn waves-effect waves-light #64b5f6 blue darken-2' onClick={() => PostData()}>\r\n                    Log in\r\n                </button>\r\n                <h6>\r\n                    <Link to='/signup'>Don't have an account ?</Link>\r\n                </h6>\r\n                <h6>\r\n                    <Link to='/reset'>forgot password ?</Link>\r\n                </h6>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nfunction SignUp() {\r\n    const history = useHistory()\r\n    const [name, setName] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const PostData = () => {\r\n        if(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n            fetch(\"http://localhost:5000/auth/signup\",{\r\n                method:\"post\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\"\r\n                },\r\n                body:JSON.stringify({\r\n                    name,\r\n                    email,\r\n                    password\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(data => {\r\n                if(data.error){\r\n                M.toast({html:data.error, classes:'#ff5252 red accent-2'}) \r\n                }else{\r\n                    M.toast({html:data.message, classes:'#69f0ae green accent-2'})\r\n                    history.push('/login')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n        }else{\r\n            M.toast({html:\"Entered a invalid Email\",classes:\"#ff5252 red accent-2\"})\r\n        }\r\n    }\r\n    return (\r\n        <div className='myCard'>\r\n            <div className='card auth-card input-field'>\r\n                <h2 className='brand-logo'>Instagram</h2>\r\n                <input\r\n                type='text'\r\n                placeholder='Username' \r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n                />\r\n                <input\r\n                type='email'\r\n                placeholder='Email'\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n                <input\r\n                type='password'\r\n                placeholder='password'\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n                <button className='btn waves-effect waves-light #64b5f6 blue darken-2'\r\n                onClick={()=> PostData()}\r\n                >\r\n                    Sign Up\r\n                </button>\r\n                <h6>\r\n                    <Link to='/login'>Already have an account ?</Link>\r\n                </h6>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUp\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport M from 'materialize-css'\r\nimport { BigLoader } from '../preloader'\r\n\r\nfunction CreatePost() {\r\n    const history = useHistory()\r\n    const [title, setTitle] = useState(\"\")\r\n    const [caption, setCaption] = useState(\"\")\r\n    const [image, setImage] = useState(\"\")\r\n    const [imgurl, setImgurl] = useState(\"\")\r\n    const [Loading, setLoading] = useState(false)\r\n    const postData = () => {\r\n        setLoading(true)\r\n        const data = new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"insta-clone\")\r\n        data.append(\"cloud_name\",\"dhhb3z0nt\")\r\n        M.toast({html:\"wait posting......<br />Don't perform any activities\"})\r\n        fetch(\"\thttps://api.cloudinary.com/v1_1/dhhb3z0nt/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res => res.json())\r\n        .then(data=>{\r\n            setImgurl(data.url)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n            setLoading(false)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        if(imgurl){\r\n            fetch(\"/createpost\",{\r\n                method:\"post\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\",\r\n                    \"Authorization\" :\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    title,\r\n                    body:caption,\r\n                    pic:imgurl\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(data => {\r\n                // console.log(data)\r\n                if(data.error){\r\n                    M.toast({html:data.error, classes:'#ff5252 red accent-2'})\r\n                    setLoading(false) \r\n                }else{\r\n                    M.toast({html:\"created a post Successfully\", classes:'#69f0ae green accent-2'})\r\n                    history.push('/')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                setLoading(false)\r\n            })\r\n        }\r\n        }, [imgurl])\r\n    return (\r\n        <>\r\n        {Loading ? \r\n        <div style={{\r\n            alignItems:\"center\",\r\n            display:\"flex\",\r\n            flexDirection:\"column\"\r\n          }}> <h2 style={{margin:\"100px 0 100px 0\"}}>loading.....!</h2> <BigLoader /> </div>:\r\n        <div className='card input-filed' style={{\r\n            margin:\"30px auto\",\r\n            maxWidth:\"600px\",\r\n            padding:\"20px\",\r\n            textAlign:\"center\"\r\n        }} >\r\n           <input \r\n                type='text' \r\n                placeholder='title'\r\n                value={title}\r\n                onChange={e => setTitle(e.target.value)}\r\n             /> \r\n           <input \r\n                type='text' \r\n                placeholder='body'\r\n                value={caption}\r\n                onChange={e => setCaption(e.target.value)}\r\n            /> \r\n            <div className=\"file-field input-field\">\r\n                <div className=\"btn waves-effect waves-light #64b5f6 blue darken-2\">\r\n                    <span>File</span>\r\n                    <input type=\"file\" onChange={e => setImage(e.target.files[0])} />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                    <input className=\"file-path validate\" type=\"text\" />\r\n                </div>\r\n            </div>\r\n            <button className='btn waves-effect waves-light #64b5f6 blue darken-2'\r\n                onClick={() => postData()}\r\n            >\r\n                Create Post\r\n            </button>\r\n        </div>}\r\n    </>\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n","export const InitialState = null\r\nexport const reducer = (state, action) => {\r\n    if(action.type===\"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type===\"CLEAR\"){\r\n        return null\r\n    }\r\n    return state\r\n}","import React, { useEffect, useState, useContext } from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {useParams} from 'react-router-dom'\r\nimport { SmallLoader, BigLoader } from '../preloader'\r\n\r\nfunction UserProfile() {\r\n    const [userProfile, setUserProfile] = useState(null)\r\n    const [loading, setloading] = useState(false)\r\n    const [userPosts, setuserPosts] = useState([])\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const {userid} = useParams()\r\n    // console.log(userid)\r\n    useEffect(() => {\r\n        fetch(`/user/${userid}`,{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n        .then(result =>{\r\n            // console.log(result)\r\n            setuserPosts(result.posts)\r\n            setUserProfile(result.user)\r\n        })\r\n    }, [])\r\n    const followHandle =(handle) =>{\r\n        setloading(true)\r\n        if(handle===followUser){\r\n            followUser()\r\n        }\r\n        if(handle===unfollowUser){\r\n            unfollowUser()\r\n        }\r\n    }\r\n    const followUser = () => {\r\n        fetch('/follow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data => {\r\n            // console.log(data.user)\r\n            localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n            dispatch({type:\"USER\",payload:data.user})\r\n            setUserProfile(data.result)\r\n            setloading(false)\r\n        }).catch(err=>console.log(err))\r\n    }\r\n\r\n    const unfollowUser = () => {\r\n        fetch('/unfollow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                unfollowId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data => {\r\n            // console.log(data.result,data.user)\r\n            localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n            dispatch({type:\"USER\",payload:data.user})\r\n            setUserProfile(data.result)\r\n            setloading(false)\r\n        }).catch(err=>console.log(err))\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {userProfile?\r\n            <div className='profile'>\r\n                <div className='profile__top'>\r\n                    <div className='profile__head'>\r\n                    <div className='profile__image'>\r\n                        <img style={{width:'160px', height:'160px',borderRadius:'80px'}}\r\n                            src='https://images.unsplash.com/flagged/photo-1577351285836-19ff13f8e615?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60'\r\n                            alt='profile pic'\r\n                            />\r\n                    </div>\r\n                    <div className='profile__headDescription'>\r\n                        <h4>{userProfile? userProfile.name: \"loading...\"}</h4>\r\n                        <h6>{userProfile? userProfile.email: \"loading...\"}</h6>\r\n                        <div style={{display:\"flex\",width:'60%',justifyContent:\"space-around\"}}>\r\n                            <p style={{textAlign:\"center\",padding:'10px'}}>{userPosts.length} posts</p>\r\n                            <p style={{textAlign:\"center\",padding:'10px'}}>{userProfile.followers.length} followers</p>\r\n                            <p style={{textAlign:\"center\",padding:'10px'}}>{userProfile.following.length} following</p>\r\n                        </div>\r\n                        {loading?\r\n                            <button className='btn #ffffff white'>\r\n                              <SmallLoader />\r\n                            </button>: <>\r\n                            {userProfile.followers.includes(state._id) ?\r\n                            <button className='btn waves-effect waves-light #ffffff white'\r\n                            style={{color:\"black\",zIndex:0}}\r\n                            onClick={()=> followHandle(unfollowUser)}\r\n                            >\r\n                                following\r\n                            </button>:\r\n                            <button className='btn waves-effect waves-light #64b5f6 blue darken-2'\r\n                            style={{zIndex:0}}\r\n                            onClick={()=> followHandle(followUser)}\r\n                            >\r\n                                Follow\r\n                            </button>}\r\n                        </>}\r\n                        \r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className='profile__gallery'>\r\n                    {userPosts.map((post,key) => {\r\n                    return <img key={key}\r\n                        className='Profile__galleryimg'\r\n                        src={post.photo}\r\n                        alt='post'\r\n                        />\r\n                    })}\r\n                </div>\r\n            </div>\r\n        :<div style={{\r\n          alignItems:\"center\",\r\n          display:\"flex\",\r\n          flexDirection:\"column\"\r\n        }}> <h2 style={{margin:\"100px 0 100px 0\"}}>loading.....!</h2> <BigLoader /> </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserProfile\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport {UserContext} from '../../App'\r\nimport { Link } from 'react-router-dom'\r\nimport { BigLoader } from '../preloader'\r\n\r\nfunction FollowPost() {\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const [data, setData] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [comment, setComment] = useState(\"\")\r\n    const [postIdLoad, setPostIdLoad] = useState(\"\")\r\n    useEffect(() => {\r\n        fetch('/getSubpost',{\r\n            headers:{\r\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n        .then(result => {\r\n            setData(result.posts)\r\n            setLoading(false)\r\n            // console.log(result.posts)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    const likeManaging = (likeComand,id) =>{\r\n        setPostIdLoad(id)\r\n        if(likeComand===likePost){\r\n            likePost(id)\r\n        }\r\n        if(likeComand===unlikePost){\r\n            unlikePost(id)\r\n        }\r\n    }\r\n\r\n    const likePost = (id) => {\r\n        fetch('/like',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result => {\r\n            const newData = data.map(item => {\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n            setPostIdLoad(\"\")\r\n        }).catch(err => console.log(err))\r\n    }\r\n\r\n    const unlikePost = (id) => {\r\n        fetch('/unlike',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result => {\r\n            const newData = data.map(item => {\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n            setPostIdLoad(\"\")\r\n        }).catch(err => console.log(err))\r\n    }\r\n\r\n    const makeComment = (text,postId) => {\r\n        fetch('/comment',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result => {\r\n            // console.log(result)\r\n            const newData = data.map(item => {\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>console.log(err))\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {loading?\r\n            <div style={{\r\n                alignItems:\"center\",\r\n                display:\"flex\",\r\n                flexDirection:\"column\"\r\n              }}> <h2 style={{margin:\"100px 0 100px 0\"}}>loading.....!</h2> <BigLoader /> </div>:\r\n            <div className='home'>\r\n            {data.map((post) => {\r\n                return <div key={post._id} className='card home-card'>\r\n                            <h5><Link className='link' to={post.postedBy._id !== state._id?`/profile/${post.postedBy._id}`: '/profile'}>{post.postedBy.name}</Link></h5>\r\n                            <div className='card-image'>\r\n                                <img src={post.photo} alt='' />\r\n                            </div>\r\n                            <div className='card-content'>\r\n                                {postIdLoad === post._id ? \r\n                                    <>{post.likes.includes(state._id)?\r\n                                    <i className=\"material-icons\" style={{color:'red',cursor:\"pointer\"}}>{\"favorite_border\"}</i>:\r\n                                    <i className=\"material-icons\" style={{color:'black',cursor:\"pointer\"}}>{\"favorite\"}</i>}</>:\r\n                                    <>{post.likes.includes(state._id)?\r\n                                    <i className=\"material-icons\" onClick={()=>{likeManaging(unlikePost,post._id)}} style={{color:'red',cursor:\"pointer\"}}>{\"favorite\"}</i>:\r\n                                    <i className=\"material-icons\" onClick={()=>{likeManaging(likePost,post._id)}} style={{color:'black',cursor:\"pointer\"}}>{\"favorite_border\"}</i>}</>\r\n                                }\r\n                                <h6>{post.likes.length} likes</h6>\r\n                                <h6>{post.title}</h6>\r\n                                <p>{post.body}</p>\r\n                                {post.comments.map((comment,key)=>{\r\n                                    return(\r\n                                        <h6 key={key}><span style={{fontWeight:\"500\"}}>{comment.postedBy.name} :  </span>  {comment.text}</h6>\r\n                                    )\r\n                                })}\r\n                                <form onSubmit={(e)=>{\r\n                                    e.preventDefault()\r\n                                    makeComment(e.target[0].value,post._id)\r\n                                }}  style={{display:\"flex\"}}\r\n                                >\r\n                                    <input type='text' value={comment} onChange={e=>setComment(e.target.value)} placeholder='comment' />\r\n                                    <button className='btn #ffffff white'><i className=\"material-icons\" style={{color:\"#64b5f6\"}} >{\"send\"}</i></button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    })}\r\n                    {data.length===0 && <div style={{display:\"flex\",justifyContent:\"center\"}}><h3>No Following Posts</h3></div>}\r\n                </div>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FollowPost\r\n","import React, { useEffect, useState, useContext } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\nimport { SmallLoader, BigLoader } from '../preloader'\r\n\r\nfunction EditProfile() {\r\n    const history = useHistory()\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const [username, setUsername] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [imgUrl, setImgUrl] = useState(\"\");\r\n    const [image, setImage] = useState(\"\")\r\n    const [uploadUrl, setUploadUrl] = useState(\"\");\r\n    const [Loading, setLoading] = useState(false)\r\n    useEffect(() => {\r\n        if(state){\r\n            setUsername(state.name)\r\n            setEmail(state.email)\r\n            setImgUrl(state.profilePic)\r\n        }\r\n    }, [state])\r\n    const updateProfile = (url) =>{\r\n        fetch(`/editProfile`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\" :\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                username,\r\n                email,\r\n                profilePic:url\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data => {\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            dispatch({type:\"USER\",payload:data})\r\n            if(data.error){\r\n                M.toast({html:data.error, classes:'#ff5252 red accent-2'}) \r\n            }else{\r\n                M.toast({html:\"Profile updated Successfully\", classes:'#69f0ae green accent-2'})\r\n                history.push('/profile')\r\n                setLoading(false)\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n    const postData = () => {\r\n        setLoading(true)\r\n        if(image){const data = new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"insta-clone\")\r\n        data.append(\"cloud_name\",\"dhhb3z0nt\")\r\n        M.toast({html:\"wait posting......<br />Don't perform any activities\"})\r\n        fetch(\"\thttps://api.cloudinary.com/v1_1/dhhb3z0nt/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res => res.json())\r\n        .then(data=>{\r\n            setUploadUrl(data.url)\r\n            updateProfile(data.url)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })}\r\n        if(!image){\r\n            fetch(`/editProfile`,{\r\n                method:\"put\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\",\r\n                    \"Authorization\" :\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    username,\r\n                    email,\r\n                    profilePic:state.profilePic\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(data => {\r\n                localStorage.setItem(\"user\",JSON.stringify(data))\r\n                dispatch({type:\"USER\",payload:data})\r\n                if(data.error){\r\n                    M.toast({html:data.error, classes:'#ff5252 red accent-2'}) \r\n                }else{\r\n                    M.toast({html:\"Profile updated Successfully\", classes:'#69f0ae green accent-2'})\r\n                    history.push('/profile')\r\n                    setLoading(false)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n    const deleteDP = () => {\r\n        setLoading(true)\r\n        fetch(`/deleteDP`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\" :\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(data => {\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            dispatch({type:\"USER\",payload:data})\r\n            if(data.error){\r\n                M.toast({html:data.error, classes:'#ff5252 red accent-2'}) \r\n            }else{\r\n                M.toast({html:\"Profile updated Successfully\", classes:'#69f0ae green accent-2'})\r\n                history.push('/profile')\r\n                setLoading(false)\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n    return (\r\n        <div className='myCard'>\r\n            {state?\r\n                <div className='card auth-card input-field'>\r\n                    {Loading? \r\n                        <div style={{\r\n                            alignItems:\"center\",\r\n                            display:\"flex\",\r\n                            flexDirection:\"column\",\r\n                            margin:\"20px\"\r\n                          }}> <h2 style={{margin:\"100px 0 100px 0\"}}>loading.....!</h2> <BigLoader /> </div>:\r\n                        <>\r\n                        <h4 className='brand-logo'>Edit Profile</h4>\r\n                        <div className='profile__image'>\r\n                            <img style={{width:'160px', height:'160px',borderRadius:'80px'}}\r\n                                src={imgUrl}\r\n                                alt='profile pic'\r\n                                />\r\n                        </div>\r\n                        <button className=\"btn #64b5f6 blue darken-2\" onClick={() => deleteDP()}>delete profile picture</button>\r\n                        <hr />\r\n                        <h6><strong>Update Details here..</strong></h6>\r\n                        <input\r\n                        type='text'\r\n                        placeholder='Username' \r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                        />\r\n                        <input\r\n                        type='text'\r\n                        placeholder='Email' \r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                        <div className=\"file-field input-field\">\r\n                            <div className=\"btn  #64b5f6 blue darken-2\">\r\n                                <span>profile pic</span>\r\n                                <input type=\"file\" onChange={e => setImage(e.target.files[0])} />\r\n                            </div>\r\n                            <div className=\"file-path-wrapper\">\r\n                                <input className=\"file-path validate\" type=\"text\" placeholder=\"Upload one or more files\" />\r\n                            </div>\r\n                        </div>\r\n                        <button className='btn waves-effect waves-light #64b5f6 blue darken-2' onClick={() => postData()}>\r\n                            Update profile\r\n                        </button>\r\n                        </>\r\n                    }\r\n                </div>:\r\n                <div style={{\r\n                    alignItems:\"center\",\r\n                    display:\"flex\",\r\n                    flexDirection:\"column\"\r\n                  }}> <h2 style={{margin:\"100px 0 100px 0\"}}>loading.....!</h2> <BigLoader /> </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile\r\n\r\n\r\n{/* <div class=\"file-field input-field\">\r\n                    <div class=\"btn  #64b5f6 blue darken-2\">\r\n                        <span>profile pic</span>\r\n                        <input type=\"file\" />\r\n                    </div>\r\n                    <div class=\"file-path-wrapper\">\r\n                        <input class=\"file-path validate\" type=\"text\" placeholder=\"Upload one or more files\" />\r\n                    </div>\r\n                </div>\r\n                <button className='btn waves-effect waves-light #64b5f6 blue darken-2'>\r\n                    Update profile\r\n                </button> */}","import React,{ useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nfunction Reset() {\r\n    const history = useHistory()\r\n    const [email, setEmail] = useState(\"\")\r\n    const PostData = () => {\r\n        if(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n            fetch(\"/auth/reset-password\",{\r\n                method:\"post\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\"\r\n                },\r\n                body:JSON.stringify({\r\n                    email\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(data => {\r\n                if(data.error){\r\n                M.toast({html:data.error, classes:'#ff5252 red accent-2'}) \r\n                }else{\r\n                    M.toast({html:data.message, classes:'#69f0ae green accent-2'})\r\n                    history.push('/login')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n        }else{\r\n            M.toast({html:\"Entered a invalid Email\",classes:\"#ff5252 red accent-2\"})\r\n        }\r\n    }\r\n    return (\r\n        <div className='myCard'>\r\n            <div className='card auth-card input-field'>\r\n                <h2 className='brand-logo'>Instagram</h2>\r\n                <input\r\n                type='text'\r\n                placeholder='Email' \r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n                <button className='btn waves-effect waves-light #64b5f6 blue darken-2' onClick={() => PostData()}>\r\n                    reset password\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Reset\r\n","import React,{ useState } from 'react'\r\nimport { Link, useHistory,useParams } from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nfunction ResetPass() {\r\n    const history = useHistory()\r\n    const [password, setPassword] = useState(\"\")\r\n    const {token} = useParams()\r\n    const PostData = () => {\r\n            fetch(\"/auth/new-password\",{\r\n                method:\"post\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\"\r\n                },\r\n                body:JSON.stringify({\r\n                    password,\r\n                    token\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(data => {\r\n                if(data.error){\r\n                M.toast({html:data.error, classes:'#ff5252 red accent-2'}) \r\n                }else{\r\n                    M.toast({html:data.message, classes:'#69f0ae green accent-2'})\r\n                    history.push('/login')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    return (\r\n        <div className='myCard'>\r\n            <div className='card auth-card input-field'>\r\n                <h2 className='brand-logo'>Instagram</h2>\r\n                <input\r\n                type='password'\r\n                placeholder='Enter New password' \r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n                <button className='btn waves-effect waves-light #64b5f6 blue darken-2' onClick={() => PostData()}>\r\n                    Reset password\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResetPass\r\n","import React, { useEffect, createContext, useReducer, useContext } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, useHistory } from 'react-router-dom'\nimport Navbar from './components/Navbar';\nimport Home from './components/screens/Home';\nimport Profile from './components/screens/Profile';\nimport Login from './components/screens/Login';\nimport SignUp from './components/screens/SignUp';\nimport CreatePost from './components/screens/createPost';\nimport { reducer, InitialState} from './reducer/reducer'\nimport UserProfile from './components/screens/UserProfile';\nimport FollowPost from './components/screens/FollowPost';\nimport EditProfile from './components/screens/EditProfile';\nimport Reset from './components/screens/ResetPass';\nimport ResetPass from './components/screens/Newpassword';\n\nexport const UserContext = createContext()\n\nconst Routing = () =>{\n  const history = useHistory()\n  const {state,dispatch} = useContext(UserContext)\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if(user){\n      dispatch({type:\"USER\",payload:user})\n    }else{\n      if(!history.location.pathname.startsWith('/reset'))\n          history.push('/login')\n    }\n  }, [])\n  return(\n    <>\n        {state ? <><Route path='/' exact component={Home} />\n        <Route path='/followposts' exact component={FollowPost} />\n        <div className='App__profile'>\n          <Route path='/profile' exact component={Profile} />\n          <Route path='/profile/:userid' component={UserProfile} />\n        </div>\n        <Route path='/editProfile' component={EditProfile} />\n        <Route path='/createpost' component={CreatePost} />\n        </>:<>\n        <Route path='/login' component={Login} />\n        <Route path='/reset' exact  component={Reset} />\n        <Route path='/reset/:token' component={ResetPass} />\n        <Route path='/signup' component={SignUp} /></>}\n    </>\n  )\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, InitialState)\n  return (\n    <div className=\"App\">\n      <UserContext.Provider value={{state,dispatch}}>\n      <BrowserRouter>\n        <Navbar />\n        <Routing />\n      </BrowserRouter>\n      </UserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}